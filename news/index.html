<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • sgsR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/reference/figures/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script><script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sgsR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/sgsR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/calculating.html">calculating</a>
    <a class="dropdown-item" href="../articles/sampling.html">sampling</a>
    <a class="dropdown-item" href="../articles/stratification.html">stratification</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tgoodbody/sgsR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/tgoodbody/sgsR/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.2" id="sgsr-132">sgsR 1.3.2<a class="anchor" aria-label="anchor" href="#sgsr-132"></a></h2>
<p><code>fixed</code> - <code><a href="../reference/strat_map.html">strat_map()</a></code> - <a href="https://github.com/tgoodbody/sgsR/issues/20" class="external-link">#20</a> greatly simplified algorithm using suggestion from R. Hijmans (added as author to algorithm). Issue was related to level matching with categorical variables.</p>
<p><code>fixed</code> - <code><a href="../reference/sample_ahels.html">sample_ahels()</a></code> - swapped plot marker icons to be consistent with other functions</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.1" id="sgsr-131">sgsR 1.3.1<a class="anchor" aria-label="anchor" href="#sgsr-131"></a></h2><p class="text-muted">CRAN release: 2022-10-14</p>
<p><code>fixed</code> - <code><a href="../reference/sample_systematic.html">sample_systematic()</a></code> - added random translation to sampling grid to ensure unbiased sampling.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0" id="sgsr-130">sgsR 1.3.0<a class="anchor" aria-label="anchor" href="#sgsr-130"></a></h2>
<p><code>new</code> - <code><a href="../reference/sample_existing.html">sample_existing()</a></code> - has been added. This algorithm sub-samples and <code>existing</code> sample using internal latin hypercube sampling. Constraints in the form of the <code>cost</code> parameter akin to <code><a href="../reference/sample_clhs.html">sample_clhs()</a></code> exist. Sub-sampling can be performed on <code>existing</code> samples alone, or using population level <code>mraster</code> distributions.</p>
<p><code>new</code> - <code><a href="../reference/masking.html">mask_existing()</a></code> - internal function for masking <code>exising</code> samples using <code>access</code> buffers.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.1" id="sgsr-121">sgsR 1.2.1<a class="anchor" aria-label="anchor" href="#sgsr-121"></a></h2>
<p><code>fixed</code> - <code><a href="../reference/sample_systematic.html">sample_systematic()</a></code> - bug where <code>cellsize</code> values that caused no samples to intersect with the raster would cause <code><a href="../reference/extract_metrics.html">extract_metrics()</a></code> to provide an error about existing not having any samples. Added a check for intersection and corresponding error message.</p>
<p><code>enhancement</code> - Added <code>quiet</code> to <code><a href="../reference/extract_metrics.html">extract_metrics()</a></code> &amp; <code><a href="../reference/extract_strata.html">extract_strata()</a></code> to allow internal use without messages.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="sgsr-120">sgsR 1.2.0<a class="anchor" aria-label="anchor" href="#sgsr-120"></a></h2><p class="text-muted">CRAN release: 2022-08-07</p>
<ul><li><p><code>fixed</code> - <code><a href="../reference/strat_kmeans.html">strat_kmeans()</a></code> bug related to <code>terra</code> where the re-assignment of values to the output raster was causing issues. R Hijmans kindly suggested the edit made.</p></li>
<li><p><code>fixed</code> - <code><a href="../reference/sample_ahels.html">sample_ahels()</a></code> - bug where extra attributes in <code>existing</code> would cause the algorithm to crash when re-merging after sampling.</p></li>
<li><p><code>fixed</code> - <code><a href="../reference/strat_quantiles.html">strat_quantiles()</a></code> - no longer plots histogram / scatter plot when using <code>plot = TRUE</code>. Now correctly adds this to details list when <code>details = TRUE</code>.</p></li>
<li>
<p><code>new sampling method</code> - Added <code><a href="../reference/sample_nc.html">sample_nc()</a></code> based on the algorithm described in <a href="https://doi.org/10.1080/00049158.2016.1218265" class="external-link">Melville &amp; Stone (2016)</a></p>
<ul><li>This algorithm uses kmeans clustering where the number of clusters is equal to the desired number of samples. Cluster centers are located, which then prompts the nearest neighbour raster pixel for each cluster to be located (assuming default <code>k</code> parameter). These nearest neighbours are the output samples. Visualization of the centers and samples can be dispayed if <code>details = TRUE</code> is used and <code>$kplot</code> is plotted.</li>
</ul></li>
<li><p><code>fixed</code> - <code><a href="../reference/sample_systematic.html">sample_systematic()</a></code> - now has inherent randomness for lower left corner of the tessellation.</p></li>
<li><p><code>fixed</code> - <code><a href="../reference/strat_kmeans.html">strat_kmeans()</a></code> - solved issue where only first raster layer was being involved in stratification.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="sgsr-110">sgsR 1.1.0<a class="anchor" aria-label="anchor" href="#sgsr-110"></a></h2>
<ul><li><p><code>enhanced</code> - <code><a href="../reference/sample_strat.html">sample_strat()</a></code> - added parameter <code>method</code> that allows users to choose between <code>"Queinnec"</code> (default method implemented in previous sgsR versions) and <code>"random"</code> (stratified random sampling). The random method ignores much of the functionality of the algorithm to allow users to use standard stratified random sampling approaches without the use of a focal window to locate contiguous stratum cells.</p></li>
<li><p><code>fixed</code> - <code><a href="../reference/sample_strat.html">sample_strat()</a></code> - factor handling improvement - GitHub issue <a href="https://github.com/tgoodbody/sgsR/issues/18" class="external-link">#18</a></p></li>
<li><p><code>enhanced</code> - <code><a href="../reference/calculate_allocation.html">calculate_allocation()</a></code> - improved documentation for output data frame to make attributes more clear.</p></li>
<li><p><code>fixed</code> - <code><a href="../reference/calculate_representation.html">calculate_representation()</a></code> - will now not plot bar chart twice &amp; <code>NA</code> values in existing will not be removed.</p></li>
<li><p><code>fixed</code> - <code>existing</code> samples with other attributes will now not break sampling using <code>sample_ahels() / sample_clhs()</code> if values are <code>NA</code>. Variables are also added back to the sample output</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="sgsr-100">sgsR 1.0.0<a class="anchor" aria-label="anchor" href="#sgsr-100"></a></h2><p class="text-muted">CRAN release: 2022-06-24</p>
<ul><li>First CRAN release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.6" id="sgsr-016">sgsR 0.1.6<a class="anchor" aria-label="anchor" href="#sgsr-016"></a></h2>
<ul><li>
<p>Added comprehensive tests using <code>testthat</code> for most functions and <code>covr</code> reporting.</p>
<ul><li>Resulting from tests: miscellaneous adjustments to many functions including small non-critical bug fixed, error and message improvements.</li>
</ul></li>
<li><p>Changed <code>forceSamp</code> to <code>force</code> in <code><a href="../reference/sample_systematic.html">sample_systematic()</a></code>.</p></li>
<li><p>Removed <code>details</code> from <code>sample_coob()</code>.</p></li>
<li><p>Improved ability to use <code>data.frames()</code> of samples as inputs for numerous algorithms.</p></li>
<li><p>Improve consistency in error messages and <code>call. = FALSE</code> across the package.</p></li>
<li><p>Added <code>existingna.shp</code> for example data where point are in <code>NA</code> locations.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="sgsr-015">sgsR 0.1.5<a class="anchor" aria-label="anchor" href="#sgsr-015"></a></h2>
<ul><li><p><code><a href="../reference/strat_map.html">strat_map()</a></code> can now map categorical srasters (gave an error before). Now also returns the categories associated with the categorical rasters in the lookup table with <code>details = TRUE</code>.</p></li>
<li><p>Altered error handling for raster masking to be within <code><a href="../reference/masking.html">mask_access()</a></code> instead of individual sampling functions.</p></li>
<li><p>Changes to <code><a href="https://rdrr.io/pkg/terra/man/distance.html" class="external-link">terra::distance()</a></code> &amp; <code><a href="https://rdrr.io/pkg/terra/man/classify.html" class="external-link">terra::classify()</a></code> required slight modifications to <code><a href="../reference/calculate_distance.html">calculate_distance()</a></code> and <code><a href="../reference/strat_breaks.html">strat_breaks()</a></code></p></li>
<li>
<p><code>sample_strat</code></p>
<ul><li>
<code><a href="../reference/rules.html">strat_rule1()</a></code> and <code><a href="../reference/rules.html">strat_rule2()</a></code> functions to make code more concise. Fixed issue with <code>mindist</code> not setting distances between strata.</li>
</ul></li>
<li>
<p><code><a href="../reference/sample_ahels.html">sample_ahels()</a></code></p>
<ul><li>Added <code>tolerance</code> parameter to <code><a href="../reference/sample_ahels.html">sample_ahels()</a></code> to allow users to define a tolerance around the desired sampling ratio (max <code>tolerance =  0.1</code>). This will allow the user to say “I ideally want the ratio to be <code>XX</code> but I’m OK if the ratio is <code>XX - threshold</code> if it means I don’t need to add more samples”.</li>
<li>Fix issue where an error occurred when <code>existing</code> was a data frame.</li>
</ul></li>
<li><p><code>sample_ahels</code> made <code><a href="../reference/rules.html">ahels_nSamp()</a></code> and <code><a href="../reference/rules.html">ahels_threshold()</a></code> functions to make code more concise.</p></li>
<li><p>Altered how <code>existing</code> (crosses) and <code>new</code> (circles) samples are plotted in <code><a href="../reference/sample_strat.html">sample_strat()</a></code> and <code><a href="../reference/sample_ahels.html">sample_ahels()</a></code>.</p></li>
<li><p>Added internal utility functions <code>allocate_prop / allocate_optim / allocate_manual / allocate_equal / allocate_existing / allocate_force</code> and integrated them into <code><a href="../reference/calculate_allocation.html">calculate_allocation()</a></code> to make code more succinct and purposeful.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="sgsr-014">sgsR 0.1.4<a class="anchor" aria-label="anchor" href="#sgsr-014"></a></h2>
<ul><li><p>Fixed issue in <code><a href="../reference/calculate_allocation.html">calculate_allocation()</a></code> where too many samples would be allocated (compared to the user-defined <code>nSamp</code>) due to using <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling()</a></code> instead of <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round()</a></code> during proportional and optimal allocation.</p></li>
<li><p>Added <code>allocation = "manual"</code> to <code><a href="../reference/calculate_allocation.html">calculate_allocation()</a></code>. The parameter <code>weights</code> was added (mandatory for <code>allocation = "manual"</code>), where users can provide a numeric vector of relative weightings to strata. <code>sum(weights)</code> must equal 1.</p></li>
<li><p>Added <code>weights</code> parameter to <code><a href="../reference/sample_strat.html">sample_strat()</a></code> to allow for <code>"manual"</code> allocation.</p></li>
<li><p>Allow <code>buff_inner</code> to be <code>NULL</code> when providing <code>access</code> to isolate samples. This allows users to define only a maximum distance (should they wish to) that samples can be from <code>access</code> but not specify a minimum distance.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="sgsr-013">sgsR 0.1.3<a class="anchor" aria-label="anchor" href="#sgsr-013"></a></h2>
<ul><li><p>Updates names for internal package data in <code>inst/exdata</code> and corresponding examples and vignettes.</p></li>
<li><p>Added contingencies for <code>sample_ahels</code>, <code>sample_strat</code>, <code>calculate_allocation</code>, <code>calculate_coobs</code> to allow existing samples to fall in areas of <code>NA</code> and not cause algorithms to fail or bug.</p></li>
<li><p><code>extract_metrics</code> &amp; <code>extract_strata</code> produce more robust error messages &amp; will now generate a message if existing samples are co-located with strata or metric values that are <code>NA</code>.</p></li>
<li><p><code>sample_clhs</code> updated to fix issue where existing samples would not be appended to output.</p></li>
<li><p><code>strat_quantiles</code> now provides a stratum look-up table when <code>details = TRUE</code> to allow user to see exact metric break points.</p></li>
<li><p>Updated documentation for many algorithms to fix grammatical and spelling errors.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="sgsr-012">sgsR 0.1.2<a class="anchor" aria-label="anchor" href="#sgsr-012"></a></h2>
<ul><li><p>Removed dependencies for <code>stringr</code>, <code>tidyselect</code>, <code>rlang</code>, <code>RColorBrewer</code>, <code>magrittr</code>, <code>glue</code>, <code>Rcpp</code>.</p></li>
<li><p>Improved documentation examples to have read speeds in line with &lt;5 seconds for CRAN submission.</p></li>
<li><p>Improve processing speed for <code>sample_coobs()</code> and <code>utils-mat.R</code> courtesy of Jean-Romain Roussel.</p></li>
<li><p>Added example subset file to <code>inst/extdata</code> to improve example processing speeds for certain algorithms.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="sgsr-011">sgsR 0.1.1<a class="anchor" aria-label="anchor" href="#sgsr-011"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://scholar.google.ca/citations?user=C_qdYDsAAAAJ&amp;hl=en" class="external-link">Tristan RH Goodbody</a>, <a href="https://forestry.ubc.ca/faculty-profile/nicholas-coops/" class="external-link">Nicholas C Coops</a>, <a href="https://www.researchgate.net/profile/Martin-Queinnec" class="external-link">Martin Queinnec</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

